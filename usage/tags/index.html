
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Unofficial TickTick API For Python 3">
      
      
      
      
        <link rel="canonical" href="https://lazeroffmichael.github.io/ticktick-py/usage/tags/">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.4">
    
    
      
        <title>Tags - ticktick-py</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.77f3fd56.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#ab47bd">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/mkdocstrings.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="purple" data-md-color-accent="">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#example-ticktick-tag-dictionary" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://lazeroffmichael.github.io/ticktick-py" title="ticktick-py" class="md-header__button md-logo" aria-label="ticktick-py">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ticktick-py
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tags
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/lazeroffmichael/ticktick-py/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lazeroffmichael/ticktick-py
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://lazeroffmichael.github.io/ticktick-py" title="ticktick-py" class="md-nav__button md-logo" aria-label="ticktick-py">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ticktick-py
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/lazeroffmichael/ticktick-py/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lazeroffmichael/ticktick-py
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Usage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        API and Important Information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/" class="md-nav__link">
        Tasks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../projects/" class="md-nav__link">
        Projects
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tags
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tags
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-ticktick-tag-dictionary" class="md-nav__link">
    Example TickTick Tag Dictionary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sort-dictionary" class="md-nav__link">
    Sort Dictionary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managers.tags" class="md-nav__link">
    managers.tags
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managers.tags.TagsManager" class="md-nav__link">
    TagsManager
  </a>
  
    <nav class="md-nav" aria-label="TagsManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managers.tags.TagsManager.builder" class="md-nav__link">
    builder()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managers.tags.TagsManager.color" class="md-nav__link">
    color()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managers.tags.TagsManager.create" class="md-nav__link">
    create()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managers.tags.TagsManager.delete" class="md-nav__link">
    delete()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managers.tags.TagsManager.merge" class="md-nav__link">
    merge()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managers.tags.TagsManager.nesting" class="md-nav__link">
    nesting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managers.tags.TagsManager.rename" class="md-nav__link">
    rename()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managers.tags.TagsManager.sorting" class="md-nav__link">
    sorting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managers.tags.TagsManager.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../helpers/" class="md-nav__link">
        Helpers
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/lazeroffmichael/ticktick-py/edit/master/docs/usage/tags.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Tags</h1>
                
                <div class="admonition info">
<p class="admonition-title">Info</p>
<p>Tag methods are accessed through the <code>tag</code> <a href="../api/#functionality">public member</a> of your <a href="../api/"><code>TickTickClient</code></a> instance.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Assumes that &#39;client&#39; is the name that references the TickTickClient instance.</span>

<span class="n">tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="admonition question">
<p class="admonition-title">Question About Logging In or Other Functionality Available?</p>
<p><a href="../api/">API and Important Information</a></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>All supported methods are documented below with usage examples, take a look!</p>
<p><strong> All usage examples assume that <code>client</code> is the name referencing the <a href="../api/"><code>TickTickClient</code></a> instance</strong></p>
</div>
<h2 id="example-ticktick-tag-dictionary">Example TickTick Tag Dictionary<a class="headerlink" href="#example-ticktick-tag-dictionary" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Members</p>
<details class="summary"><summary>Descriptions</summary><p>It is possible that not all possible fields are present in the table.</p>
<table>
<thead>
<tr>
<th align="center">Property</th>
<th align="center">Description</th>
<th align="center">Example Value</th>
<th align="center">Type</th>
<th align="center">Useful Values</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>name</code></td>
<td align="center">The lowercase of <code>label</code></td>
<td align="center">'books'</td>
<td align="center"><code>str</code></td>
<td align="center">N/A</td>
</tr>
<tr>
<td align="center"><code>label</code></td>
<td align="center">The uppercase of <code>name</code></td>
<td align="center">'Books'</td>
<td align="center"><code>str</code></td>
<td align="center">N/A</td>
</tr>
<tr>
<td align="center"><code>sortOrder</code></td>
<td align="center">A sort ID relative to other tags.</td>
<td align="center">2748779069440</td>
<td align="center"><code>int</code></td>
<td align="center">N/A</td>
</tr>
<tr>
<td align="center"><code>sortType</code></td>
<td align="center">Sort type of the tag</td>
<td align="center"><code>dueDate</code></td>
<td align="center"><code>str</code></td>
<td align="center"><code>dueDate</code>, <code>project</code>, <code>title</code>, <code>priority</code></td>
</tr>
<tr>
<td align="center"><code>color</code></td>
<td align="center">Hex color code string</td>
<td align="center">#4AA6EF</td>
<td align="center"><code>str</code></td>
<td align="center">N/A</td>
</tr>
<tr>
<td align="center"><code>etag</code></td>
<td align="center">Etag identifier.</td>
<td align="center">'ji35exmv'</td>
<td align="center"><code>str</code></td>
<td align="center">N/A</td>
</tr>
<tr>
<td align="center"><code>parent</code></td>
<td align="center"><code>name</code> field of the parent tag</td>
<td align="center">'friends'</td>
<td align="center"><code>str</code></td>
<td align="center">N/A</td>
</tr>
</tbody>
</table>
</details>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span>
<span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Test&#39;</span><span class="p">,</span>
<span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">2748779069440</span><span class="p">,</span>
<span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span>
<span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#4AA6EF&#39;</span><span class="p">,</span>
<span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;zxdvlhqd&#39;</span><span class="p">,</span>
<span class="s1">&#39;parent&#39;</span><span class="p">:</span> <span class="s1">&#39;friends&#39;</span><span class="p">}</span>
</code></pre></div>
</div>
<h2 id="sort-dictionary">Sort Dictionary<a class="headerlink" href="#sort-dictionary" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">SORT_DICTIONARY</p>
<p>The sort dictionary maps integers to the different sort types possible for tags.
It is a public member called SORT_DICTIONARY available through the <code>tag</code> <a href="/usage/api/#functionality">public member</a> of
the <a href="../api/"><code>TickTickClient</code></a> instance.</p>
<details class="summary"><summary>Descriptions</summary><table>
<thead>
<tr>
<th>Value</th>
<th>Sort Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>'project'</td>
</tr>
<tr>
<td>1</td>
<td>'dueDate'</td>
</tr>
<tr>
<td>2</td>
<td>'title'</td>
</tr>
<tr>
<td>3</td>
<td>'priority'</td>
</tr>
</tbody>
</table>
</details>
</div>


  <div class="doc doc-object doc-module">

<a id="managers.tags"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h2 id="managers.tags.TagsManager" class="doc doc-heading">
        <code>TagsManager</code>



<a href="#managers.tags.TagsManager" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Handles all interactions for tags.</p>




  <div class="doc doc-children">











  <div class="doc doc-object doc-method">



<h3 id="managers.tags.TagsManager.builder" class="doc doc-heading">
<code class="highlight language-python"><span class="n">builder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#managers.tags.TagsManager.builder" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates and returns a local tag object. Helper method for <a href="#managers.tags.TagsManager.create">create</a>
to make batch creating projects easier.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The parent tag must already exist prior to calling this method.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>Desired label of the tag - tag labels cannot be repeated.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>color</code></td>
        <td><code>str</code></td>
        <td><p>Hex color string. A random color will be generated if no color is specified.</p></td>
        <td><code>&#39;random&#39;</code></td>
      </tr>
      <tr>
        <td><code>parent</code></td>
        <td><code>str</code></td>
        <td><p>The label of the parent tag if desired (include capitals in the label if it exists).</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>sort</code></td>
        <td><code>int</code></td>
        <td><p>The desired sort type of the tag. Valid integer values are present in the <a href="./#sort-dictionary">sort dictionary</a>. The default
sort value will be by 'project'</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>A dictionary containing all the fields necessary to create a tag remotely.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If any of the types of the arguments are wrong.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>Tag label already exists.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>Parent tag does not exist.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>The hex string color inputted is invalid.</p></td>
      </tr>
  </tbody>
</table>      <div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="n">tag_name</span> <span class="o">=</span> <span class="s1">&#39;Books&#39;</span>  <span class="c1"># The name for our tag</span>
<span class="n">parent_name</span> <span class="o">=</span> <span class="s1">&#39;Productivity&#39;</span>  <span class="c1"># The desired parent tag -&gt; this should already exist.</span>
<span class="n">color_code</span> <span class="o">=</span> <span class="s1">&#39;#1387c4&#39;</span>
<span class="n">sort_type</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Sort by `dueDate`</span>
<span class="n">tag_object</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">builder</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent_name</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color_code</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="n">sort_type</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The required fields to create a tag object are created and returned in a dictionary.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fiction&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#1387c4&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span> <span class="s1">&#39;books&#39;</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;dueDate&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fiction&#39;</span><span class="p">}</span>
</code></pre></div>
</details>
</div>

        <details class="quote">
          <summary>Source code in <code>managers/tags.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">builder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;random&#39;</span><span class="p">,</span>
            <span class="n">parent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">sort</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates and returns a local tag object. Helper method for [create][managers.tags.TagsManager.create]</span>
<span class="sd">    to make batch creating projects easier.</span>

<span class="sd">    !!! note</span>
<span class="sd">        The parent tag must already exist prior to calling this method.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        label: Desired label of the tag - tag labels cannot be repeated.</span>
<span class="sd">        color: Hex color string. A random color will be generated if no color is specified.</span>
<span class="sd">        parent: The label of the parent tag if desired (include capitals in the label if it exists).</span>
<span class="sd">        sort: The desired sort type of the tag. Valid integer values are present in the [sort dictionary](tags.md#sort-dictionary). The default</span>
<span class="sd">            sort value will be by &#39;project&#39;</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary containing all the fields necessary to create a tag remotely.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If any of the types of the arguments are wrong.</span>
<span class="sd">        ValueError: Tag label already exists.</span>
<span class="sd">        ValueError: Parent tag does not exist.</span>
<span class="sd">        ValueError: The hex string color inputted is invalid.</span>

<span class="sd">    !!! example</span>
<span class="sd">        ```python</span>
<span class="sd">        tag_name = &#39;Books&#39;  # The name for our tag</span>
<span class="sd">        parent_name = &#39;Productivity&#39;  # The desired parent tag -&gt; this should already exist.</span>
<span class="sd">        color_code = &#39;#1387c4&#39;</span>
<span class="sd">        sort_type = 1  # Sort by `dueDate`</span>
<span class="sd">        tag_object = client.tag.builder(tag_name, parent=parent_name, color=color_code, sort=sort_type)</span>
<span class="sd">        ```</span>

<span class="sd">        ??? success &quot;Result&quot;</span>
<span class="sd">            The required fields to create a tag object are created and returned in a dictionary.</span>

<span class="sd">            ```python</span>
<span class="sd">            {&#39;label&#39;: &#39;Fiction&#39;, &#39;color&#39;: &#39;#1387c4&#39;, &#39;parent&#39;: &#39;books&#39;, &#39;sortType&#39;: &#39;dueDate&#39;, &#39;name&#39;: &#39;fiction&#39;}</span>
<span class="sd">            ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Perform checks</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_fields</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">parent_label</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="n">sort</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="managers.tags.TagsManager.color" class="doc doc-heading">
<code class="highlight language-python"><span class="n">color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span></code>


<a href="#managers.tags.TagsManager.color" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Change the color of a tag. For batch changing colors, see <a href="#managers.tags.TagsManager.update">update</a>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>The label of the tag to be changed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>color</code></td>
        <td><code>str</code></td>
        <td><p>The new desired hex color string.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>The updated tag dictionary object.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If <code>label</code> or <code>color</code> are not strings.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the tag <code>label</code> does not exist.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If <code>color</code> is not a valid hex color string.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If changing the color was not successful.</p></td>
      </tr>
  </tbody>
</table>      <div class="admonition example">
<p class="admonition-title">Changing a Tag's Color</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Lets assume that we have a tag named &quot;Movies&quot; that we want to change the color for.</span>
<span class="n">new_color</span> <span class="o">=</span> <span class="s1">&#39;#134397&#39;</span>
<span class="n">movies_updated</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="n">new_color</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The updated tag dictionary object is returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;movies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#134397&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;wwb49yfr&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104661749-0eda7d00-567e-11eb-836f-3a8851bcf9a5.png" /></p>
<p><strong>After</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104661860-55c87280-567e-11eb-93b5-054fa4f1104a.png" /></p>
</details>
</div>

        <details class="quote">
          <summary>Source code in <code>managers/tags.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@logged_in</span>
<span class="k">def</span> <span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">color</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Change the color of a tag. For batch changing colors, see [update][managers.tags.TagsManager.update].</span>

<span class="sd">    Arguments:</span>
<span class="sd">        label: The label of the tag to be changed.</span>
<span class="sd">        color: The new desired hex color string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated tag dictionary object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If `label` or `color` are not strings.</span>
<span class="sd">        ValueError: If the tag `label` does not exist.</span>
<span class="sd">        ValueError: If `color` is not a valid hex color string.</span>
<span class="sd">        RuntimeError: If changing the color was not successful.</span>

<span class="sd">    !!! example &quot;Changing a Tag&#39;s Color&quot;</span>
<span class="sd">        ```python</span>
<span class="sd">        # Lets assume that we have a tag named &quot;Movies&quot; that we want to change the color for.</span>
<span class="sd">        new_color = &#39;#134397&#39;</span>
<span class="sd">        movies_updated = client.tag.color(&#39;Movies&#39;, new_color)</span>
<span class="sd">        ```</span>

<span class="sd">        ??? success &quot;Result&quot;</span>
<span class="sd">            The updated tag dictionary object is returned.</span>

<span class="sd">            ```python</span>
<span class="sd">            {&#39;name&#39;: &#39;movies&#39;, &#39;label&#39;: &#39;Movies&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#134397&#39;, &#39;etag&#39;: &#39;wwb49yfr&#39;}</span>
<span class="sd">            ```</span>

<span class="sd">            **Before**</span>

<span class="sd">            ![image](https://user-images.githubusercontent.com/56806733/104661749-0eda7d00-567e-11eb-836f-3a8851bcf9a5.png)</span>

<span class="sd">            **After**</span>

<span class="sd">            ![image](https://user-images.githubusercontent.com/56806733/104661860-55c87280-567e-11eb-93b5-054fa4f1104a.png)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Label and Color Must Be Strings&#39;</span><span class="p">)</span>

    <span class="c1"># Get the object</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">obj</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tag &#39;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&#39; Does Not Exist To Update&quot;</span><span class="p">)</span>

    <span class="c1"># Check the color</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">check_hex_color</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hex Color String &#39;</span><span class="si">{</span><span class="n">color</span><span class="si">}</span><span class="s2">&#39; Is Not Valid&quot;</span><span class="p">)</span>

    <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">color</span>  <span class="c1"># Set the color</span>

    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">BASE_URL</span> <span class="o">+</span> <span class="s1">&#39;batch/tag&#39;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;update&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">obj</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">http_post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cookies</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_etag</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;id2etag&#39;</span><span class="p">][</span><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="managers.tags.TagsManager.create" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#managers.tags.TagsManager.create" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a tag remotely. Supports single tag creation or batch tag creation.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Allows creation with a label that may normally not be allowed by <code>TickTick</code> for tags.</p>
<p>Normal <code>TickTick</code> excluded characters are: \ / " # : * ? &lt; &gt; | Space</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>label</code></td>
        <td><code>str or list</code></td>
        <td><p><strong>Single Tag (str)</strong>: The desired label of the tag. Tag labels cannot be repeated.</p>
<p><strong>Multiple Tags (list)</strong>: A list of tag objects created using the <a href="#managers.tags.TagsManager.builder">builder</a> method.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>color</code></td>
        <td><code>str</code></td>
        <td><p>Hex color string. A random color will be generated if no color is specified.</p></td>
        <td><code>&#39;random&#39;</code></td>
      </tr>
      <tr>
        <td><code>parent</code></td>
        <td><code>str</code></td>
        <td><p>The label of the parent tag if desired (include capitals in if it exists).</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>sort</code></td>
        <td><code>int</code></td>
        <td><p>The desired sort type of the tag. Valid integer values are present in the <a href="./#sort-dictionary">sort dictionary</a>. The default
sort value will be by 'project'</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict or list</code></td>
      <td><p><strong>Single Tag (dict)</strong>: The created tag object dictionary.</p>
<p><strong>Multiple Tags (list)</strong>: A list of the created tag object dictionaries.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If any of the types of the arguments are wrong.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>Tag label already exists.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>Parent tag does not exist.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>The hex string color inputted is invalid.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>The tag(s) could not be created.</p></td>
      </tr>
  </tbody>
</table>      <div class="admonition example">
<p class="admonition-title">Single Tag</p>
<div class="tabbed-set" data-tabs="1:4"><input checked="checked" id="managers.tags.TagsManager.create--__tabbed_1_1" name="managers.tags.TagsManager.create--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.create--__tabbed_1_1">Just A Label</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="n">tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;Fun&#39;</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The tag object dictionary is returned.</p>
<p><div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#9b69f3&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;7fc8zb58&#39;</span><span class="p">}</span>
</code></pre></div>
Our tag is created.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104658773-5bbb5500-5678-11eb-9d44-27214203d70e.png" /></p>
</details>
</div>
<input id="managers.tags.TagsManager.create--__tabbed_1_2" name="managers.tags.TagsManager.create--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.create--__tabbed_1_2">Specify a Color</label><div class="tabbed-content">
<p>A random color can be generated using <a href="../helpers/#helpers.hex_color.generate_hex_color">generate_hex_color</a>.
However, just not specifying a color will automatically generate a random color (as seen in the previous tab)
You can always specify the color that you want.</p>
<div class="highlight"><pre><span></span><code><span class="n">tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#86bb6d&#39;</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The tag object dictionary is returned and our project is created with the color specified.</p>
<p><div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#86bb6d&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;8bzzdws3&#39;</span><span class="p">}</span>
</code></pre></div>
<img alt="image" src="https://user-images.githubusercontent.com/56806733/104659184-0c295900-5679-11eb-9f3c-2cd154c0500c.png" /></p>
</details>
</div>
<input id="managers.tags.TagsManager.create--__tabbed_1_3" name="managers.tags.TagsManager.create--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.create--__tabbed_1_3">Specifying a Parent Tag</label><div class="tabbed-content">
<p>Tags can be nested one level. To create a tag that is nested, include the label of the parent tag.
The parent tag should already exist.</p>
<div class="highlight"><pre><span></span><code><span class="n">tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;Hobbies&#39;</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The tag object dictionary is returned and our tag is created nested under the parent tag.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#d2a6e4&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;nauticx1&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span> <span class="s1">&#39;hobbies&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104659785-24e63e80-567a-11eb-9a62-01ebca55e649.png" /></p>
<p><strong>After</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104659814-33ccf100-567a-11eb-8dca-c91aea68b4c7.png" /></p>
</details>
</div>
<input id="managers.tags.TagsManager.create--__tabbed_1_4" name="managers.tags.TagsManager.create--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.create--__tabbed_1_4">Sort Type</label><div class="tabbed-content">
<p>You can specify the sort type of the created tag using integer values from the <a href="#managers.tags.TagsManager.create--sort-dictionary">sort dictionary</a>.</p>
<div class="highlight"><pre><span></span><code><span class="n">tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Sort by `title`</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The tag object dictionary is returned and our tag has the specified sort type.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#e7e7ba&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;n4k3pezc&#39;</span><span class="p">}</span>
</code></pre></div>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104660156-e4d38b80-567a-11eb-8c61-8fb874a515a2.png" /></p>
</details>
</div>
</div>
</div>
<div class="admonition example">
<p class="admonition-title">Multiple Tag Creation (batch)</p>
<p>To create multiple tags, build the tag objects first using the <a href="../projects/#managers.projects.ProjectManager.builder">builder</a> method. Pass
in a list of the project objects to create them remotely.</p>
<div class="highlight"><pre><span></span><code><span class="n">parent_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;Hobbies&#39;</span><span class="p">)</span>  <span class="c1"># Create a parent tag.</span>
<span class="c1"># We will create tag objects using builder that will be nested under the parent tag</span>
<span class="n">fun_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">builder</span><span class="p">(</span><span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;Hobbies&#39;</span><span class="p">)</span>
<span class="n">read_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">builder</span><span class="p">(</span><span class="s1">&#39;Read&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#d2a6e4&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;Hobbies&#39;</span><span class="p">)</span>
<span class="n">movie_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">builder</span><span class="p">(</span><span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;Hobbies&#39;</span><span class="p">)</span>
<span class="c1"># Create the tags</span>
<span class="n">tag_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">fun_tag</span><span class="p">,</span> <span class="n">read_tag</span><span class="p">,</span> <span class="n">movie_tag</span><span class="p">]</span>
<span class="n">created_tags</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">tag_list</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The tag object dictionaries are returned in a list.</p>
<div class="highlight"><pre><span></span><code><span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#172d1c&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;1tceclp4&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span> <span class="s1">&#39;hobbies&#39;</span><span class="p">},</span>

<span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;read&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Read&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#d2a6e4&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;ykdem8dg&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span> <span class="s1">&#39;hobbies&#39;</span><span class="p">},</span>

<span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;movies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#94a5f8&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;o0nifkbv&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span> <span class="s1">&#39;hobbies&#39;</span><span class="p">}]</span>
</code></pre></div>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104660625-cb7f0f00-567b-11eb-8649-68646870ccfa.png" /></p>
</details>
</div>

        <details class="quote">
          <summary>Source code in <code>managers/tags.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@logged_in</span>
<span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
           <span class="n">label</span><span class="p">,</span>
           <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;random&#39;</span><span class="p">,</span>
           <span class="n">parent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">sort</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
           <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a tag remotely. Supports single tag creation or batch tag creation.</span>

<span class="sd">    !!! tip</span>
<span class="sd">        Allows creation with a label that may normally not be allowed by `TickTick` for tags.</span>

<span class="sd">        Normal `TickTick` excluded characters are: \\ / &quot; # : * ? &lt; &gt; | Space</span>

<span class="sd">    Arguments:</span>
<span class="sd">        label (str or list):</span>
<span class="sd">            **Single Tag (str)**: The desired label of the tag. Tag labels cannot be repeated.</span>

<span class="sd">            **Multiple Tags (list)**: A list of tag objects created using the [builder][managers.tags.TagsManager.builder] method.</span>
<span class="sd">        color: Hex color string. A random color will be generated if no color is specified.</span>
<span class="sd">        parent: The label of the parent tag if desired (include capitals in if it exists).</span>
<span class="sd">        sort: The desired sort type of the tag. Valid integer values are present in the [sort dictionary](tags.md#sort-dictionary). The default</span>
<span class="sd">            sort value will be by &#39;project&#39;</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict or list:</span>
<span class="sd">        **Single Tag (dict)**: The created tag object dictionary.</span>

<span class="sd">        **Multiple Tags (list)**: A list of the created tag object dictionaries.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If any of the types of the arguments are wrong.</span>
<span class="sd">        ValueError: Tag label already exists.</span>
<span class="sd">        ValueError: Parent tag does not exist.</span>
<span class="sd">        ValueError: The hex string color inputted is invalid.</span>
<span class="sd">        RuntimeError: The tag(s) could not be created.</span>

<span class="sd">    !!! example &quot;Single Tag&quot;</span>

<span class="sd">        === &quot;Just A Label&quot;</span>
<span class="sd">            ```python</span>
<span class="sd">            tag = client.tag.create(&#39;Fun&#39;)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The tag object dictionary is returned.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;fun&#39;, &#39;label&#39;: &#39;Fun&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#9b69f3&#39;, &#39;etag&#39;: &#39;7fc8zb58&#39;}</span>
<span class="sd">                ```</span>
<span class="sd">                Our tag is created.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104658773-5bbb5500-5678-11eb-9d44-27214203d70e.png)</span>

<span class="sd">        === &quot;Specify a Color&quot;</span>
<span class="sd">            A random color can be generated using [generate_hex_color][helpers.hex_color.generate_hex_color].</span>
<span class="sd">            However, just not specifying a color will automatically generate a random color (as seen in the previous tab)</span>
<span class="sd">            You can always specify the color that you want.</span>

<span class="sd">            ```python</span>
<span class="sd">            tag = client.tag.create(&#39;Fun&#39;, color=&#39;#86bb6d&#39;)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The tag object dictionary is returned and our project is created with the color specified.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;fun&#39;, &#39;label&#39;: &#39;Fun&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#86bb6d&#39;, &#39;etag&#39;: &#39;8bzzdws3&#39;}</span>
<span class="sd">                ```</span>
<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104659184-0c295900-5679-11eb-9f3c-2cd154c0500c.png)</span>

<span class="sd">        === &quot;Specifying a Parent Tag&quot;</span>
<span class="sd">            Tags can be nested one level. To create a tag that is nested, include the label of the parent tag.</span>
<span class="sd">            The parent tag should already exist.</span>

<span class="sd">            ```python</span>
<span class="sd">            tag = client.tag.create(&#39;Fun&#39;, parent=&#39;Hobbies&#39;)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The tag object dictionary is returned and our tag is created nested under the parent tag.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;fun&#39;, &#39;label&#39;: &#39;Fun&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#d2a6e4&#39;, &#39;etag&#39;: &#39;nauticx1&#39;, &#39;parent&#39;: &#39;hobbies&#39;}</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104659785-24e63e80-567a-11eb-9a62-01ebca55e649.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104659814-33ccf100-567a-11eb-8dca-c91aea68b4c7.png)</span>

<span class="sd">        === &quot;Sort Type&quot;</span>
<span class="sd">            You can specify the sort type of the created tag using integer values from the [sort dictionary](#sort-dictionary).</span>

<span class="sd">            ```python</span>
<span class="sd">            tag = client.tag.create(&#39;Fun&#39;, sort=2)  # Sort by `title`</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The tag object dictionary is returned and our tag has the specified sort type.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;fun&#39;, &#39;label&#39;: &#39;Fun&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;title&#39;, &#39;color&#39;: &#39;#e7e7ba&#39;, &#39;etag&#39;: &#39;n4k3pezc&#39;}</span>
<span class="sd">                ```</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104660156-e4d38b80-567a-11eb-8c61-8fb874a515a2.png)</span>

<span class="sd">    !!! example &quot;Multiple Tag Creation (batch)&quot;</span>
<span class="sd">        To create multiple tags, build the tag objects first using the [builder][managers.projects.ProjectManager.builder] method. Pass</span>
<span class="sd">        in a list of the project objects to create them remotely.</span>

<span class="sd">        ```python</span>
<span class="sd">        parent_tag = client.tag.create(&#39;Hobbies&#39;)  # Create a parent tag.</span>
<span class="sd">        # We will create tag objects using builder that will be nested under the parent tag</span>
<span class="sd">        fun_tag = client.tag.builder(&#39;Fun&#39;, sort=2, parent=&#39;Hobbies&#39;)</span>
<span class="sd">        read_tag = client.tag.builder(&#39;Read&#39;, color=&#39;#d2a6e4&#39;, parent=&#39;Hobbies&#39;)</span>
<span class="sd">        movie_tag = client.tag.builder(&#39;Movies&#39;, parent=&#39;Hobbies&#39;)</span>
<span class="sd">        # Create the tags</span>
<span class="sd">        tag_list = [fun_tag, read_tag, movie_tag]</span>
<span class="sd">        created_tags = client.tag.create(tag_list)</span>
<span class="sd">        ```</span>

<span class="sd">        ??? success &quot;Result&quot;</span>
<span class="sd">            The tag object dictionaries are returned in a list.</span>

<span class="sd">            ```python</span>
<span class="sd">            [{&#39;name&#39;: &#39;fun&#39;, &#39;label&#39;: &#39;Fun&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;title&#39;, &#39;color&#39;: &#39;#172d1c&#39;, &#39;etag&#39;: &#39;1tceclp4&#39;, &#39;parent&#39;: &#39;hobbies&#39;},</span>

<span class="sd">            {&#39;name&#39;: &#39;read&#39;, &#39;label&#39;: &#39;Read&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#d2a6e4&#39;, &#39;etag&#39;: &#39;ykdem8dg&#39;, &#39;parent&#39;: &#39;hobbies&#39;},</span>

<span class="sd">            {&#39;name&#39;: &#39;movies&#39;, &#39;label&#39;: &#39;Movies&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#94a5f8&#39;, &#39;etag&#39;: &#39;o0nifkbv&#39;, &#39;parent&#39;: &#39;hobbies&#39;}]</span>
<span class="sd">            ```</span>

<span class="sd">            ![image](https://user-images.githubusercontent.com/56806733/104660625-cb7f0f00-567b-11eb-8649-68646870ccfa.png)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">batch</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Bool signifying batch create or not</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="c1"># Batch tag creation triggered</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">label</span>  <span class="c1"># Assuming all correct objects</span>
        <span class="n">batch</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Required Positional Argument Must Be A String or List of Tag Objects&#39;</span><span class="p">)</span>
        <span class="c1"># Create a single object</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">builder</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="n">sort</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">batch</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="p">[</span><span class="n">obj</span><span class="p">]</span>

    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">BASE_URL</span> <span class="o">+</span> <span class="s1">&#39;batch/tag&#39;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;add&#39;</span><span class="p">:</span> <span class="n">obj</span><span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">http_post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cookies</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">batch</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_etag</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">parse_etag</span><span class="p">(</span><span class="n">response</span><span class="p">),</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">etag</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;id2etag&#39;</span><span class="p">]</span>
        <span class="n">etag2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">etag</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>  <span class="c1"># Tag names are out of order</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>  <span class="c1"># Tag names are in order</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>  <span class="c1"># Create enough spots for the objects</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">etag2</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">labels</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>  <span class="c1"># Object of the index is here</span>
            <span class="n">actual_etag</span> <span class="o">=</span> <span class="n">etag</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span>  <span class="c1"># Get the actual etag</span>
            <span class="n">found</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_etag</span><span class="p">(</span><span class="n">actual_etag</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
            <span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">found</span>  <span class="c1"># Place at the correct index</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">items</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="managers.tags.TagsManager.delete" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span></code>


<a href="#managers.tags.TagsManager.delete" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Delete tag(s). Supports single tag deletion and "mock" batch tag deletion.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Batch deleting for tags is not supported by TickTick. However, passing in
a list of labels to delete will "mock" batch deleting - but individual requests
will have to be made for each deletion.</p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>label</code></td>
        <td><code>str or list</code></td>
        <td><p><strong>Single Tag (str)</strong>: The label of the tag.</p>
<p><strong>Multiple Tags (list)</strong>: A list of tag label strings.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict or list</code></td>
      <td><p><strong>Single Tag (dict)</strong>: The dictionary object of the deleted tag.</p>
<p><strong>Multiple Tags (list)</strong>: The dictionary objects of the deleted tags in a list.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If <code>label</code> is not a string or list.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If a label does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the tag could not be deleted successfully.</p></td>
      </tr>
  </tbody>
</table>      <div class="admonition example">
<p class="admonition-title">Tag Deletion</p>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="managers.tags.TagsManager.delete--__tabbed_1_1" name="managers.tags.TagsManager.delete--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.delete--__tabbed_1_1">Single Tag Deletion</label><div class="tabbed-content">
<p>Deleting a single tag requires passing in the label string of the tag.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Lets delete a tag named &quot;Fun&quot;</span>
<span class="n">delete_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;Fun&quot;</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The dictionary object of the deleted tag returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3298534883328</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#A9949E&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;32balm5l&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p>"Fun" Tag Exists</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104668024-2c164800-568c-11eb-853e-5b7eba1f4528.png" /></p>
<p><strong>After</strong></p>
<p>"Fun" Tag Does Not Exist</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104667768-ac887900-568b-11eb-9bfb-597c752e4c3b.png" /></p>
</details>
</div>
<input id="managers.tags.TagsManager.delete--__tabbed_1_2" name="managers.tags.TagsManager.delete--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.delete--__tabbed_1_2">Multiple Tag Deletion</label><div class="tabbed-content">
<p>Deleting multiple tags requires passing the label strings of the tags in a list.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Lets delete tags named &quot;Fun&quot;, &quot;Movies&quot;, and &quot;Hobbies&quot;</span>
<span class="n">delete_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Fun&quot;</span><span class="p">,</span> <span class="s2">&quot;Movies&quot;</span><span class="p">,</span> <span class="s2">&quot;Hobbies&quot;</span><span class="p">]</span>
<span class="n">deleted_tags</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">delete_labels</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The dictionary object of the deleted tags returned in a list.</p>
<div class="highlight"><pre><span></span><code><span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3848290697216</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#FFD966&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;56aa6dva&#39;</span><span class="p">},</span>

<span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;movies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2748779069440</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;dueDate&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#134397&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;s0czro3e&#39;</span><span class="p">},</span>

<span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;hobbies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Hobbies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2199023255552</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#ABA6B5&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;shu2xbvq&#39;</span><span class="p">}]</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p>All three tags exist.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104668135-61bb3100-568c-11eb-8707-314deb42cd1d.png" /></p>
<p><strong>After</strong></p>
<p>All three tags don't exist.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104668185-7b5c7880-568c-11eb-8da0-aaee68d53500.png" /></p>
</details>
</div>
</div>
</div>

        <details class="quote">
          <summary>Source code in <code>managers/tags.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@logged_in</span>
<span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete tag(s). Supports single tag deletion and &quot;mock&quot; batch tag deletion.</span>

<span class="sd">    !!! info</span>
<span class="sd">        Batch deleting for tags is not supported by TickTick. However, passing in</span>
<span class="sd">        a list of labels to delete will &quot;mock&quot; batch deleting - but individual requests</span>
<span class="sd">        will have to be made for each deletion.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        label (str or list):</span>
<span class="sd">            **Single Tag (str)**: The label of the tag.</span>

<span class="sd">            **Multiple Tags (list)**: A list of tag label strings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict or list:</span>
<span class="sd">        **Single Tag (dict)**: The dictionary object of the deleted tag.</span>

<span class="sd">        **Multiple Tags (list)**: The dictionary objects of the deleted tags in a list.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If `label` is not a string or list.</span>
<span class="sd">        ValueError: If a label does not exist.</span>
<span class="sd">        RuntimeError: If the tag could not be deleted successfully.</span>

<span class="sd">    !!! example &quot;Tag Deletion&quot;</span>
<span class="sd">        === &quot;Single Tag Deletion&quot;</span>
<span class="sd">            Deleting a single tag requires passing in the label string of the tag.</span>

<span class="sd">            ```python</span>
<span class="sd">            # Lets delete a tag named &quot;Fun&quot;</span>
<span class="sd">            delete_tag = client.tag.delete(&quot;Fun&quot;)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The dictionary object of the deleted tag returned.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;fun&#39;, &#39;label&#39;: &#39;Fun&#39;, &#39;sortOrder&#39;: -3298534883328, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#A9949E&#39;, &#39;etag&#39;: &#39;32balm5l&#39;}</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                &quot;Fun&quot; Tag Exists</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104668024-2c164800-568c-11eb-853e-5b7eba1f4528.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                &quot;Fun&quot; Tag Does Not Exist</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104667768-ac887900-568b-11eb-9bfb-597c752e4c3b.png)</span>

<span class="sd">        === &quot;Multiple Tag Deletion&quot;</span>
<span class="sd">            Deleting multiple tags requires passing the label strings of the tags in a list.</span>

<span class="sd">            ```python</span>
<span class="sd">            # Lets delete tags named &quot;Fun&quot;, &quot;Movies&quot;, and &quot;Hobbies&quot;</span>
<span class="sd">            delete_labels = [&quot;Fun&quot;, &quot;Movies&quot;, &quot;Hobbies&quot;]</span>
<span class="sd">            deleted_tags = client.tag.delete(delete_labels)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>

<span class="sd">                The dictionary object of the deleted tags returned in a list.</span>

<span class="sd">                ```python</span>
<span class="sd">                [{&#39;name&#39;: &#39;fun&#39;, &#39;label&#39;: &#39;Fun&#39;, &#39;sortOrder&#39;: -3848290697216, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#FFD966&#39;, &#39;etag&#39;: &#39;56aa6dva&#39;},</span>

<span class="sd">                {&#39;name&#39;: &#39;movies&#39;, &#39;label&#39;: &#39;Movies&#39;, &#39;sortOrder&#39;: -2748779069440, &#39;sortType&#39;: &#39;dueDate&#39;, &#39;color&#39;: &#39;#134397&#39;, &#39;etag&#39;: &#39;s0czro3e&#39;},</span>

<span class="sd">                {&#39;name&#39;: &#39;hobbies&#39;, &#39;label&#39;: &#39;Hobbies&#39;, &#39;sortOrder&#39;: -2199023255552, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#ABA6B5&#39;, &#39;etag&#39;: &#39;shu2xbvq&#39;}]</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                All three tags exist.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104668135-61bb3100-568c-11eb-8707-314deb42cd1d.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                All three tags don&#39;t exist.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104668185-7b5c7880-568c-11eb-8da0-aaee68d53500.png)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Determine if the tag exists</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Label Must Be A String or List Of Strings&#39;</span><span class="p">)</span>

    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">BASE_URL</span> <span class="o">+</span> <span class="s1">&#39;tag&#39;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">label</span> <span class="o">=</span> <span class="p">[</span><span class="n">label</span><span class="p">]</span>  <span class="c1"># If a singular string we are going to add it to a list</span>

    <span class="n">objects</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">lbl</span> <span class="ow">in</span> <span class="n">label</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">lbl</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">lbl</span><span class="si">}</span><span class="s2">&#39; Must Be A String&quot;</span><span class="p">)</span>
        <span class="n">lbl</span> <span class="o">=</span> <span class="n">lbl</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">tag_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">lbl</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>  <span class="c1"># Get the tag object</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tag_obj</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tag &#39;</span><span class="si">{</span><span class="n">lbl</span><span class="si">}</span><span class="s2">&#39; Does Not Exist To Delete&quot;</span><span class="p">)</span>
        <span class="c1"># We can assume that only one tag has the name</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">tag_obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">http_delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cookies</span><span class="p">)</span>
        <span class="c1"># Find the tag in the tags list and delete it, then return the deleted object</span>
        <span class="n">objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">delete_from_local_state</span><span class="p">(</span><span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span> <span class="n">etag</span><span class="o">=</span><span class="n">tag_obj</span><span class="p">[</span><span class="s1">&#39;etag&#39;</span><span class="p">]))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">objects</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="managers.tags.TagsManager.merge" class="doc doc-heading">
<code class="highlight language-python"><span class="n">merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">merged</span><span class="p">)</span></code>


<a href="#managers.tags.TagsManager.merge" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Merges the tasks of the passed tags into the argument <code>merged</code> and deletes all the tags except <code>merged</code>
Args can be individual label strings, or a list of strings</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>label</code></td>
        <td><code>str or list</code></td>
        <td><p><strong>Single Tag (str)</strong>: The label string of the tag to merge.</p>
<p><strong>Multiple Tags (list)</strong>: The label strings of the tags to merge in a list.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>merged</code></td>
        <td><code>str</code></td>
        <td><p>The label of the tag that will remain after the merge.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>The tag dictionary object that remains after the merge.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If <code>merged</code> is not a str or if <code>label</code> is not a str or list.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If any of the labels do not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the merge could not be successfully completed.</p></td>
      </tr>
  </tbody>
</table>      <div class="admonition example">
<p class="admonition-title">Merging Tags</p>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="managers.tags.TagsManager.merge--__tabbed_1_1" name="managers.tags.TagsManager.merge--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.merge--__tabbed_1_1">Merging Two Tags</label><div class="tabbed-content">
<p>Merging two tags requires the label of the tag that you want kept after the merge, and the
label of the tag that will be merged.</p>
<p>Lets assume that we have two tags: "Work" and "School". I want to merge the tag "School"
into "Work". What should happen is that any tasks that are tagged "School", will be updated
to have the tag "Work", and the "School" tag will be deleted.</p>
<div class="highlight"><pre><span></span><code><span class="n">merged_tags</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="s2">&quot;School&quot;</span><span class="p">,</span> <span class="s2">&quot;Work&quot;</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The tag that remains after the merge is returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;work&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Work&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">2199023255552</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#3876E4&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;eeh8zrup&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p>"School" has two tasks that have it's tag.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104680244-45c38980-56a4-11eb-968d-884160c77247.png" /></p>
<p>"Work" has no tasks.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104680366-90dd9c80-56a4-11eb-975f-5e769e9ea491.png" /></p>
<p><strong>After</strong></p>
<p>"School" has been deleted. The tasks that used to be tagged with "School" are now
tagged with "Work".</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104680576-0c3f4e00-56a5-11eb-9536-ef3a7fcf20ec.png" /></p>
</details>
</div>
<input id="managers.tags.TagsManager.merge--__tabbed_1_2" name="managers.tags.TagsManager.merge--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.merge--__tabbed_1_2">Merging Three Or More Tags</label><div class="tabbed-content">
<p>Merging multiple tags into a single tag requires passing the labels of the tags to merge in a list.</p>
<p>Lets assume that we have three tags: "Work", "School", and "Hobbies" . I want to merge the tag "School"
and the tag "Hobbies" into "Work". What should happen is that any tasks that are tagged with "School" or "Hobbies", will be updated
to have the tag "Work", and the "School" and "Hobbies" tags will be deleted.</p>
<div class="highlight"><pre><span></span><code><span class="n">merge_tags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;School&quot;</span><span class="p">,</span> <span class="s2">&quot;Hobbies&quot;</span><span class="p">]</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">merge_tags</span><span class="p">,</span> <span class="s2">&quot;Work&quot;</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The tag that remains after the merge is returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;work&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Work&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">2199023255552</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#3876E4&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;ke23lp06&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p>"School" has two tasks.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104681135-7ad0db80-56a6-11eb-81dd-03e4a151cfd9.png" /></p>
<p>"Hobbies" has two tasks.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104681104-67257500-56a6-11eb-99b0-57bbb876a59e.png" /></p>
<p>"Work" has one task.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104681164-89b78e00-56a6-11eb-99a8-c85ef418d2a0.png" /></p>
<p><strong>After</strong></p>
<p>"Work" has five tasks now, and the tags "School" and "Hobbies" have been deleted.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104681239-b7043c00-56a6-11eb-9b45-5522b9c69cb0.png" /></p>
</details>
</div>
</div>
</div>

        <details class="quote">
          <summary>Source code in <code>managers/tags.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@logged_in</span>
<span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">merged</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Merges the tasks of the passed tags into the argument `merged` and deletes all the tags except `merged`</span>
<span class="sd">    Args can be individual label strings, or a list of strings</span>

<span class="sd">    Arguments:</span>
<span class="sd">        label (str or list):</span>
<span class="sd">            **Single Tag (str)**: The label string of the tag to merge.</span>

<span class="sd">            **Multiple Tags (list)**: The label strings of the tags to merge in a list.</span>
<span class="sd">        merged: The label of the tag that will remain after the merge.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The tag dictionary object that remains after the merge.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If `merged` is not a str or if `label` is not a str or list.</span>
<span class="sd">        ValueError: If any of the labels do not exist.</span>
<span class="sd">        RuntimeError: If the merge could not be successfully completed.</span>

<span class="sd">    !!! example &quot;Merging Tags&quot;</span>
<span class="sd">        === &quot;Merging Two Tags&quot;</span>
<span class="sd">            Merging two tags requires the label of the tag that you want kept after the merge, and the</span>
<span class="sd">            label of the tag that will be merged.</span>

<span class="sd">            Lets assume that we have two tags: &quot;Work&quot; and &quot;School&quot;. I want to merge the tag &quot;School&quot;</span>
<span class="sd">            into &quot;Work&quot;. What should happen is that any tasks that are tagged &quot;School&quot;, will be updated</span>
<span class="sd">            to have the tag &quot;Work&quot;, and the &quot;School&quot; tag will be deleted.</span>

<span class="sd">            ```python</span>
<span class="sd">            merged_tags = client.tag.merge(&quot;School&quot;, &quot;Work&quot;)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The tag that remains after the merge is returned.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;work&#39;, &#39;label&#39;: &#39;Work&#39;, &#39;sortOrder&#39;: 2199023255552, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#3876E4&#39;, &#39;etag&#39;: &#39;eeh8zrup&#39;}</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                &quot;School&quot; has two tasks that have it&#39;s tag.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104680244-45c38980-56a4-11eb-968d-884160c77247.png)</span>

<span class="sd">                &quot;Work&quot; has no tasks.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104680366-90dd9c80-56a4-11eb-975f-5e769e9ea491.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                &quot;School&quot; has been deleted. The tasks that used to be tagged with &quot;School&quot; are now</span>
<span class="sd">                tagged with &quot;Work&quot;.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104680576-0c3f4e00-56a5-11eb-9536-ef3a7fcf20ec.png)</span>

<span class="sd">        === &quot;Merging Three Or More Tags&quot;</span>
<span class="sd">            Merging multiple tags into a single tag requires passing the labels of the tags to merge in a list.</span>

<span class="sd">            Lets assume that we have three tags: &quot;Work&quot;, &quot;School&quot;, and &quot;Hobbies&quot; . I want to merge the tag &quot;School&quot;</span>
<span class="sd">            and the tag &quot;Hobbies&quot; into &quot;Work&quot;. What should happen is that any tasks that are tagged with &quot;School&quot; or &quot;Hobbies&quot;, will be updated</span>
<span class="sd">            to have the tag &quot;Work&quot;, and the &quot;School&quot; and &quot;Hobbies&quot; tags will be deleted.</span>

<span class="sd">            ```python</span>
<span class="sd">            merge_tags = [&quot;School&quot;, &quot;Hobbies&quot;]</span>
<span class="sd">            result = client.tag.merge(merge_tags, &quot;Work&quot;)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The tag that remains after the merge is returned.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;work&#39;, &#39;label&#39;: &#39;Work&#39;, &#39;sortOrder&#39;: 2199023255552, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#3876E4&#39;, &#39;etag&#39;: &#39;ke23lp06&#39;}</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                &quot;School&quot; has two tasks.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104681135-7ad0db80-56a6-11eb-81dd-03e4a151cfd9.png)</span>

<span class="sd">                &quot;Hobbies&quot; has two tasks.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104681104-67257500-56a6-11eb-99b0-57bbb876a59e.png)</span>

<span class="sd">                &quot;Work&quot; has one task.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104681164-89b78e00-56a6-11eb-99a8-c85ef418d2a0.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                &quot;Work&quot; has five tasks now, and the tags &quot;School&quot; and &quot;Hobbies&quot; have been deleted.</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104681239-b7043c00-56a6-11eb-9b45-5522b9c69cb0.png)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Make sure merged is a string</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">merged</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Merged Must Be A String&#39;</span><span class="p">)</span>

    <span class="c1"># Make sure label is a string or list</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Label must be a string or a list.&quot;</span><span class="p">)</span>

    <span class="c1"># Lowercase merged</span>
    <span class="n">merged</span> <span class="o">=</span> <span class="n">merged</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="c1"># Make sure merged exists</span>
    <span class="n">kept_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">merged</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">kept_obj</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kept Tag &#39;</span><span class="si">{</span><span class="n">merged</span><span class="si">}</span><span class="s2">&#39; Does Not Exist To Merge&quot;</span><span class="p">)</span>

    <span class="n">merge_queue</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># Verify all args are valid, and add them to a list</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">label</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="c1"># Make sure it exists</span>
        <span class="n">retrieved</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">string</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">retrieved</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tag &#39;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&#39; Does Not Exist To Merge&quot;</span><span class="p">)</span>
        <span class="n">merge_queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">retrieved</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">label</span><span class="p">:</span>  <span class="c1"># Loop through the items in the list and check items are a string and exist</span>
            <span class="c1"># Make sure the item is a string</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Item &#39;</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&#39; Must Be A String&quot;</span><span class="p">)</span>
            <span class="n">string</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="c1"># Make sure it exists</span>
            <span class="n">found</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">string</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tag &#39;</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&#39; Does Not Exist To Merge&quot;</span><span class="p">)</span>
            <span class="n">merge_queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">found</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">labels</span> <span class="ow">in</span> <span class="n">merge_queue</span><span class="p">:</span>
        <span class="c1"># Merge</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">BASE_URL</span> <span class="o">+</span> <span class="s1">&#39;tag/merge&#39;</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">labels</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
            <span class="s1">&#39;newName&#39;</span><span class="p">:</span> <span class="n">kept_obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">http_put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cookies</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">kept_obj</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="managers.tags.TagsManager.nesting" class="doc doc-heading">
<code class="highlight language-python"><span class="n">nesting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span></code>


<a href="#managers.tags.TagsManager.nesting" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Update tag nesting. Move an already created tag to be nested underneath a parent tag - or ungroup an already
nested tag.</p>
<div class="admonition warning">
<p class="admonition-title">Nesting Tags More Than One Level Does Not Work</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="tabbed-set" data-tabs="1:1"><input checked="checked" id="managers.tags.TagsManager.nesting--__tabbed_1_1" name="managers.tags.TagsManager.nesting--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.nesting--__tabbed_1_1">Nesting Explanation</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>Parent Tag -&gt; Level Zero
    Child Tag 1 -&gt; Level One: This is the most nesting that is allowed by TickTick for tags.
        Child Tag 2 -&gt; Level Two: Not allowed
</code></pre></div>
</div>
</div>
</div>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>child</code></td>
        <td><code>str</code></td>
        <td><p>Label of the tag to become the child</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>parent</code></td>
        <td><code>str</code></td>
        <td><p>Label of the tag that will become the parent.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>The updated tag object dictionary.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If <code>child</code> and <code>parent</code> are not strings</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If <code>child</code> does not exist to update.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If <code>parent</code> does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If setting the parent was unsuccessful.</p></td>
      </tr>
  </tbody>
</table>      <div class="admonition example">
<p class="admonition-title">Nesting</p>
<div class="tabbed-set" data-tabs="1:3"><input checked="checked" id="managers.tags.TagsManager.nesting--__tabbed_1_1" name="managers.tags.TagsManager.nesting--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.nesting--__tabbed_1_1">Nesting A Tag</label><div class="tabbed-content">
<p>To nest a tag underneath another tag, pass in the labels of the child and parent.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Lets assume that we have a tag named &quot;Movies&quot;</span>
<span class="c1"># We have another tag named &quot;Hobbies&quot; that we want to make the parent to &quot;Movies&quot;</span>
<span class="n">child</span> <span class="o">=</span> <span class="s2">&quot;Movies&quot;</span>
<span class="n">parent</span> <span class="o">=</span> <span class="s2">&quot;Hobbies&quot;</span>
<span class="n">nesting_update</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">nesting</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The updated child tag dictionary object is returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;movies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;dueDate&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#134397&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;ee34aft9&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span> <span class="s1">&#39;hobbies&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104665300-da6abf00-5685-11eb-947f-889187cec008.png" /></p>
<p><strong>After</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104665366-f706f700-5685-11eb-93eb-9316befec5fc.png" /></p>
</details>
</div>
<input id="managers.tags.TagsManager.nesting--__tabbed_1_2" name="managers.tags.TagsManager.nesting--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.nesting--__tabbed_1_2">Changing The Parent Of An Already Nested Tag</label><div class="tabbed-content">
<p>If the tag is already nested, changing the parent is still no different.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># We have a tag named &quot;Movies&quot; that is already nested underneath &quot;Hobbies&quot;</span>
<span class="c1"># We want to nest &quot;Movies&quot; underneath the tag &quot;Fun&quot; instead.</span>
<span class="n">child</span> <span class="o">=</span> <span class="s2">&quot;Movies&quot;</span>
<span class="n">parent</span> <span class="o">=</span> <span class="s2">&quot;Fun&quot;</span>
<span class="n">nesting_update</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">nesting</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The updated child tag dictionary object is returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;movies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;dueDate&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#134397&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;91qpuq71&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104665599-ab088200-5686-11eb-8b36-5ee873289db7.png" /></p>
<p><strong>After</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104665821-35e97c80-5687-11eb-8098-426816970f3e.png" /></p>
</details>
</div>
<input id="managers.tags.TagsManager.nesting--__tabbed_1_3" name="managers.tags.TagsManager.nesting--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.nesting--__tabbed_1_3">Un-grouping A Child Tag</label><div class="tabbed-content">
<p>If the tag is nested and you want to ungroup it, pass in <code>None</code> for <code>parent</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># We have a tag named &quot;Movies&quot; that is nested underneath &quot;Fun&quot;</span>
<span class="c1"># We don&#39;t want to have &quot;Movies&quot; nested anymore.</span>
<span class="n">child</span> <span class="o">=</span> <span class="s2">&quot;Movies&quot;</span>
<span class="n">parent</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">nesting_update</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">nesting</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The updated child tag dictionary object is returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;movies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;dueDate&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#134397&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;jcoc94p6&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104666038-be681d00-5687-11eb-8490-83c370977267.png" /></p>
<p><strong>After</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104666080-dcce1880-5687-11eb-9ca8-5abcdb4109ba.png" /></p>
</details>
</div>
</div>
</div>

        <details class="quote">
          <summary>Source code in <code>managers/tags.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@logged_in</span>
<span class="k">def</span> <span class="nf">nesting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update tag nesting. Move an already created tag to be nested underneath a parent tag - or ungroup an already</span>
<span class="sd">    nested tag.</span>

<span class="sd">    !!! warning &quot;Nesting Tags More Than One Level Does Not Work&quot;</span>
<span class="sd">        !!! example</span>

<span class="sd">            === &quot;Nesting Explanation&quot;</span>
<span class="sd">                ```md</span>
<span class="sd">                Parent Tag -&gt; Level Zero</span>
<span class="sd">                    Child Tag 1 -&gt; Level One: This is the most nesting that is allowed by TickTick for tags.</span>
<span class="sd">                        Child Tag 2 -&gt; Level Two: Not allowed</span>
<span class="sd">                ```</span>

<span class="sd">    Arguments:</span>
<span class="sd">        child: Label of the tag to become the child</span>
<span class="sd">        parent: Label of the tag that will become the parent.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated tag object dictionary.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If `child` and `parent` are not strings</span>
<span class="sd">        ValueError: If `child` does not exist to update.</span>
<span class="sd">        ValueError: If `parent` does not exist.</span>
<span class="sd">        RuntimeError: If setting the parent was unsuccessful.</span>

<span class="sd">    !!! example &quot;Nesting&quot;</span>

<span class="sd">        === &quot;Nesting A Tag&quot;</span>
<span class="sd">            To nest a tag underneath another tag, pass in the labels of the child and parent.</span>

<span class="sd">            ```python</span>
<span class="sd">            # Lets assume that we have a tag named &quot;Movies&quot;</span>
<span class="sd">            # We have another tag named &quot;Hobbies&quot; that we want to make the parent to &quot;Movies&quot;</span>
<span class="sd">            child = &quot;Movies&quot;</span>
<span class="sd">            parent = &quot;Hobbies&quot;</span>
<span class="sd">            nesting_update = client.tag.nesting(child, parent)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The updated child tag dictionary object is returned.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;movies&#39;, &#39;label&#39;: &#39;Movies&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;dueDate&#39;, &#39;color&#39;: &#39;#134397&#39;, &#39;etag&#39;: &#39;ee34aft9&#39;, &#39;parent&#39;: &#39;hobbies&#39;}</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104665300-da6abf00-5685-11eb-947f-889187cec008.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104665366-f706f700-5685-11eb-93eb-9316befec5fc.png)</span>

<span class="sd">        === &quot;Changing The Parent Of An Already Nested Tag&quot;</span>
<span class="sd">            If the tag is already nested, changing the parent is still no different.</span>

<span class="sd">            ```python</span>
<span class="sd">            # We have a tag named &quot;Movies&quot; that is already nested underneath &quot;Hobbies&quot;</span>
<span class="sd">            # We want to nest &quot;Movies&quot; underneath the tag &quot;Fun&quot; instead.</span>
<span class="sd">            child = &quot;Movies&quot;</span>
<span class="sd">            parent = &quot;Fun&quot;</span>
<span class="sd">            nesting_update = client.tag.nesting(child, parent)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The updated child tag dictionary object is returned.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;movies&#39;, &#39;label&#39;: &#39;Movies&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;dueDate&#39;, &#39;color&#39;: &#39;#134397&#39;, &#39;etag&#39;: &#39;91qpuq71&#39;, &#39;parent&#39;: &#39;fun&#39;}</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104665599-ab088200-5686-11eb-8b36-5ee873289db7.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104665821-35e97c80-5687-11eb-8098-426816970f3e.png)</span>

<span class="sd">        === &quot;Un-grouping A Child Tag&quot;</span>
<span class="sd">            If the tag is nested and you want to ungroup it, pass in `None` for `parent`.</span>

<span class="sd">            ```python</span>
<span class="sd">            # We have a tag named &quot;Movies&quot; that is nested underneath &quot;Fun&quot;</span>
<span class="sd">            # We don&#39;t want to have &quot;Movies&quot; nested anymore.</span>
<span class="sd">            child = &quot;Movies&quot;</span>
<span class="sd">            parent = None</span>
<span class="sd">            nesting_update = client.tag.nesting(child, parent)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The updated child tag dictionary object is returned.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;movies&#39;, &#39;label&#39;: &#39;Movies&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;dueDate&#39;, &#39;color&#39;: &#39;#134397&#39;, &#39;etag&#39;: &#39;jcoc94p6&#39;}</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104666038-be681d00-5687-11eb-8490-83c370977267.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104666080-dcce1880-5687-11eb-9ca8-5abcdb4109ba.png)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Inputs Must Be Strings&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Inputs Must Be Strings&#39;</span><span class="p">)</span>

    <span class="c1"># Get the object</span>
    <span class="n">child</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">child</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">obj</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tag &#39;</span><span class="si">{</span><span class="n">child</span><span class="si">}</span><span class="s2">&#39; Does Not Exist To Update&quot;</span><span class="p">)</span>

    <span class="c1"># Four Cases</span>
    <span class="c1"># Case 1: No Parent -&gt; Want a Parent</span>
    <span class="c1"># Case 2: No Parent -&gt; Doesn&#39;t Want a Parent</span>
    <span class="c1"># Case 3: Has Parent -&gt; Wants a Different Parent</span>
    <span class="c1"># Case 4: Has Parent -&gt; Doesn&#39;t Want a Parent</span>

    <span class="c1"># Case 1: Determine if the object has a parent</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;parent&#39;</span><span class="p">]:</span>
            <span class="c1"># It has a parent</span>
            <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># Case 3</span>
                <span class="c1"># check if the parent is already the same, if it is just return</span>
                <span class="k">if</span> <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;parent&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">parent</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="k">return</span> <span class="n">obj</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_p</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                    <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;parent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_p</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_p</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;parent&#39;</span><span class="p">]</span>  <span class="c1"># Case 4</span>
                <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;parent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">elif</span> <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;parent&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Parent Does Not Exist&#39;</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="c1"># It does not have a parent</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># Wants a different parent</span>
            <span class="n">new_p</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>  <span class="c1"># -&gt; Case 1</span>
            <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;parent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_p</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Doesn&#39;t want a parent -&gt; Case 2</span>
            <span class="k">return</span> <span class="n">obj</span>  <span class="c1"># We don&#39;t have to do anything if no parent and doesn&#39;t want a parent</span>

    <span class="c1"># Have to find the project</span>
    <span class="n">pobj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">new_p</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">pobj</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tag &#39;</span><span class="si">{</span><span class="n">parent</span><span class="si">}</span><span class="s2">&#39; Does Not Exist To Set As Parent&quot;</span><span class="p">)</span>

    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">BASE_URL</span> <span class="o">+</span> <span class="s1">&#39;batch/tag&#39;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;update&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">pobj</span><span class="p">,</span> <span class="n">obj</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">http_post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cookies</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_etag</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;id2etag&#39;</span><span class="p">][</span><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]],</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="managers.tags.TagsManager.rename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span></code>


<a href="#managers.tags.TagsManager.rename" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Renames a tag.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>old</code></td>
        <td><code>str</code></td>
        <td><p>Current label of the tag to be changed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>new</code></td>
        <td><code>str</code></td>
        <td><p>Desired new label of the tag.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>The tag object with the updated label.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If <code>old</code> and <code>new</code> are not strings.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the <code>old</code> tag label does not exist.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the <code>new</code> tag label already exists.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the renaming was unsuccessful.</p></td>
      </tr>
  </tbody>
</table>      <div class="admonition example">
<p class="admonition-title">Changing a Tag's Label</p>
<p>Pass in the current label of the tag, and the desired new label of the tag.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Lets assume that we have a tag that already exists named &quot;Movie&quot;</span>
<span class="n">old_label</span> <span class="o">=</span> <span class="s2">&quot;Movie&quot;</span>
<span class="n">new_label</span> <span class="o">=</span> <span class="s2">&quot;Movies&quot;</span>
<span class="n">updated_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">old_label</span><span class="p">,</span> <span class="n">new_label</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The updated tag object dictionary is returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;movies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#134397&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;qer1jygy&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104661255-fcac0f00-567c-11eb-9f10-69af8b50e0b4.png" /></p>
<p><strong>After</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104661299-19e0dd80-567d-11eb-825f-758d83178295.png" /></p>
</details>
</div>

        <details class="quote">
          <summary>Source code in <code>managers/tags.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@logged_in</span>
<span class="k">def</span> <span class="nf">rename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">old</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Renames a tag.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        old: Current label of the tag to be changed.</span>
<span class="sd">        new: Desired new label of the tag.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The tag object with the updated label.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If `old` and `new` are not strings.</span>
<span class="sd">        ValueError: If the `old` tag label does not exist.</span>
<span class="sd">        ValueError: If the `new` tag label already exists.</span>
<span class="sd">        RuntimeError: If the renaming was unsuccessful.</span>

<span class="sd">    !!! example &quot;Changing a Tag&#39;s Label&quot;</span>

<span class="sd">        Pass in the current label of the tag, and the desired new label of the tag.</span>

<span class="sd">        ```python</span>
<span class="sd">        # Lets assume that we have a tag that already exists named &quot;Movie&quot;</span>
<span class="sd">        old_label = &quot;Movie&quot;</span>
<span class="sd">        new_label = &quot;Movies&quot;</span>
<span class="sd">        updated_tag = client.tag.rename(old_label, new_label)</span>
<span class="sd">        ```</span>

<span class="sd">        ??? success &quot;Result&quot;</span>
<span class="sd">            The updated tag object dictionary is returned.</span>

<span class="sd">            ```python</span>
<span class="sd">            {&#39;name&#39;: &#39;movies&#39;, &#39;label&#39;: &#39;Movies&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#134397&#39;, &#39;etag&#39;: &#39;qer1jygy&#39;}</span>
<span class="sd">            ```</span>

<span class="sd">            **Before**</span>

<span class="sd">            ![image](https://user-images.githubusercontent.com/56806733/104661255-fcac0f00-567c-11eb-9f10-69af8b50e0b4.png)</span>

<span class="sd">            **After**</span>

<span class="sd">            ![image](https://user-images.githubusercontent.com/56806733/104661299-19e0dd80-567d-11eb-825f-758d83178295.png)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check that both old and new are strings</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Old and New Must Be Strings&#39;</span><span class="p">)</span>

    <span class="c1"># Make sure the old tag exists</span>
    <span class="n">old</span> <span class="o">=</span> <span class="n">old</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="c1"># Check if the tag object exists</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">old</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">obj</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tag &#39;</span><span class="si">{</span><span class="n">old</span><span class="si">}</span><span class="s2">&#39; Does Not Exist To Rename&quot;</span><span class="p">)</span>

    <span class="c1"># Make sure the new tag does not exist</span>
    <span class="n">temp_new</span> <span class="o">=</span> <span class="n">new</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="c1"># Check if the tag object exists</span>
    <span class="n">found</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">temp_new</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">found</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Name &#39;</span><span class="si">{</span><span class="n">new</span><span class="si">}</span><span class="s2">&#39; Already Exists -&gt; Cannot Duplicate Name&quot;</span><span class="p">)</span>

    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">BASE_URL</span> <span class="o">+</span> <span class="s1">&#39;tag/rename&#39;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
        <span class="s1">&#39;newName&#39;</span><span class="p">:</span> <span class="n">new</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">http_put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cookies</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>
    <span class="c1"># Response from TickTick does not return the new etag of the object, we must find it ourselves</span>
    <span class="n">new_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">temp_new</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="c1"># Return the etag of the updated object</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_etag</span><span class="p">(</span><span class="n">new_obj</span><span class="p">[</span><span class="s1">&#39;etag&#39;</span><span class="p">],</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="managers.tags.TagsManager.sorting" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sorting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">sort</span><span class="p">)</span></code>


<a href="#managers.tags.TagsManager.sorting" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Change the sort type of a tag. For batch changing sort types, see <a href="#managers.tags.TagsManager.update">update</a>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>The label of the tag to be changed.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>sort</code></td>
        <td><code>int</code></td>
        <td><p>The new sort type specified by an integer 0-3. See <a href="./#sort-dictionary">sort dictionary</a>.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>The updated tag dictionary object.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If <code>label</code> is not a string or if <code>sort</code> is not an int.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the tag <code>label</code> does not exist.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the updating was unsuccessful.</p></td>
      </tr>
  </tbody>
</table>      <div class="admonition example">
<p class="admonition-title">Changing the Sort Type</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Lets assume that we have a tag named &quot;Movies&quot; with the sort type &quot;project&quot;</span>
<span class="n">changed_sort_type</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">sorting</span><span class="p">(</span><span class="s2">&quot;Movies&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Sort by &#39;dueDate&#39;</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The updated task dictionary object is returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;movies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Movies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;dueDate&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#134397&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;fflj8iy0&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104663625-3f241a80-5682-11eb-93a7-73d280c59b3e.png" /></p>
<p><strong>After</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104663663-5531db00-5682-11eb-9440-5673a70840b4.png" /></p>
</details>
</div>

        <details class="quote">
          <summary>Source code in <code>managers/tags.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@logged_in</span>
<span class="k">def</span> <span class="nf">sorting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">sort</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Change the sort type of a tag. For batch changing sort types, see [update][managers.tags.TagsManager.update].</span>

<span class="sd">    Arguments:</span>
<span class="sd">        label: The label of the tag to be changed.</span>
<span class="sd">        sort: The new sort type specified by an integer 0-3. See [sort dictionary](tags.md#sort-dictionary).</span>

<span class="sd">    Returns:</span>
<span class="sd">        The updated tag dictionary object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If `label` is not a string or if `sort` is not an int.</span>
<span class="sd">        ValueError: If the tag `label` does not exist.</span>
<span class="sd">        RuntimeError: If the updating was unsuccessful.</span>

<span class="sd">    !!! example &quot;Changing the Sort Type&quot;</span>

<span class="sd">        ```python</span>
<span class="sd">        # Lets assume that we have a tag named &quot;Movies&quot; with the sort type &quot;project&quot;</span>
<span class="sd">        changed_sort_type = client.tag.sorting(&quot;Movies&quot;, 1)  # Sort by &#39;dueDate&#39;</span>
<span class="sd">        ```</span>

<span class="sd">        ??? success &quot;Result&quot;</span>
<span class="sd">            The updated task dictionary object is returned.</span>

<span class="sd">            ```python</span>
<span class="sd">            {&#39;name&#39;: &#39;movies&#39;, &#39;label&#39;: &#39;Movies&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;dueDate&#39;, &#39;color&#39;: &#39;#134397&#39;, &#39;etag&#39;: &#39;fflj8iy0&#39;}</span>
<span class="sd">            ```</span>

<span class="sd">            **Before**</span>

<span class="sd">            ![image](https://user-images.githubusercontent.com/56806733/104663625-3f241a80-5682-11eb-93a7-73d280c59b3e.png)</span>

<span class="sd">            **After**</span>

<span class="sd">            ![image](https://user-images.githubusercontent.com/56806733/104663663-5531db00-5682-11eb-9440-5673a70840b4.png)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sort</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Label Must Be A String and Sort Must Be An Int&#39;</span><span class="p">)</span>

    <span class="c1"># Get the object</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">obj</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tag &#39;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&#39; Does Not Exist To Update&quot;</span><span class="p">)</span>
    <span class="n">sort</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sort_string_value</span><span class="p">(</span><span class="n">sort</span><span class="p">)</span>  <span class="c1"># Get the sort string for the value</span>

    <span class="n">obj</span><span class="p">[</span><span class="s1">&#39;sortType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sort</span>  <span class="c1"># set the object field</span>

    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">BASE_URL</span> <span class="o">+</span> <span class="s1">&#39;batch/tag&#39;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;update&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">obj</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">http_post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cookies</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_etag</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;id2etag&#39;</span><span class="p">][</span><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="managers.tags.TagsManager.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span></code>


<a href="#managers.tags.TagsManager.update" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Generic update method. Supports single and batch tag update.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Updating tag properties like <code>parent</code> and renaming tags must be completed through
their respective class methods to work: <a href="#managers.tags.TagsManager.nesting">nesting</a>
and <a href="#managers.tags.TagsManager.rename">renaming</a>. These updates use different
endpoints to the traditional updating.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You are able to batch update sorting and color of tag objects through this method. If you only
need to update single tags, it is recommended you use the class methods: <a href="#managers.tags.TagsManager.sorting">sorting</a>
and <a href="#managers.tags.TagsManager.color">color</a></p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>More information on Tag Object properties <a href="./#example-ticktick-tag-dictionary">here</a></p>
</div>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>obj</code></td>
        <td><code>dict or list</code></td>
        <td><p><strong>Single Tag (dict)</strong>: The tag dictionary object to update.</p>
<p><strong>Multiple Tags (list)</strong>: The tag dictionaries to update in a list.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict or list</code></td>
      <td><p><strong>Single Tag (dict)</strong>: The updated tag dictionary object.</p>
<p><strong>Multiple Tags (list)</strong>: The updated tag dictionaries in a list.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>If <code>obj</code> is not a dict or list.</p></td>
      </tr>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the updating was unsuccessful.</p></td>
      </tr>
  </tbody>
</table>      <div class="admonition example">
<p class="admonition-title">Updating Tags</p>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="managers.tags.TagsManager.update--__tabbed_1_1" name="managers.tags.TagsManager.update--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.update--__tabbed_1_1">Single Tag Update</label><div class="tabbed-content">
<p>Change a field directly in the task object then pass it to the method. See above
for more information about what can actually be successfully changed through this method.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Lets say we have a tag named &quot;Fun&quot; that we want to change the color of.</span>
<span class="c1"># We can change the color by updating the field directly.</span>
<span class="n">fun_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>  <span class="c1"># Get the tag object</span>
<span class="n">new_color</span> <span class="o">=</span> <span class="s1">&#39;#d00000&#39;</span>
<span class="n">fun_tag</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_color</span>  <span class="c1"># Change the color</span>
<span class="n">updated_fun_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">fun_tag</span><span class="p">)</span>  <span class="c1"># Pass the object to update.</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The updated tag dictionary object is returned.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">2199023255552</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#d00000&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;i85c8ijo&#39;</span><span class="p">}</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104669635-4aca0e00-568f-11eb-8bc6-9572a432b623.png" /></p>
<p><strong>After</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104669824-ac8a7800-568f-11eb-93d6-ac40235bcd3f.png" /></p>
</details>
</div>
<input id="managers.tags.TagsManager.update--__tabbed_1_2" name="managers.tags.TagsManager.update--__tabbed_1" type="radio" /><label for="managers.tags.TagsManager.update--__tabbed_1_2">Multiple Tag Update</label><div class="tabbed-content">
<p>Changing the fields is the same as with updating a single tag, except you will need
to pass the objects in a list to the method.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Lets update the colors for three tags: &quot;Fun&quot;, &quot;Hobbies&quot;, and &quot;Productivity&quot;</span>
<span class="n">fun_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Fun&quot;</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
<span class="n">hobbies_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Hobbies&quot;</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
<span class="n">productivity_tag</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_by_fields</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Productivity&quot;</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
<span class="n">fun_color_new</span> <span class="o">=</span> <span class="s2">&quot;#951a63&quot;</span>
<span class="n">hobbies_color_new</span> <span class="o">=</span> <span class="s2">&quot;#0f8a1f&quot;</span>
<span class="n">productivity_color_new</span> <span class="o">=</span> <span class="s2">&quot;#493293&quot;</span>
<span class="c1"># Change the fields directly</span>
<span class="n">fun_tag</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fun_color_new</span>
<span class="n">hobbies_tag</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hobbies_color_new</span>
<span class="n">productivity_tag</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">productivity_color_new</span>
<span class="c1"># The objects must be passed in a list</span>
<span class="n">update_tag_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">fun_tag</span><span class="p">,</span> <span class="n">hobbies_tag</span><span class="p">,</span> <span class="n">productivity_tag</span><span class="p">]</span>
<span class="n">updated_tags</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tag</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">update_tag_list</span><span class="p">)</span>
</code></pre></div>
<details class="success"><summary>Result</summary><p>The updated task dictionary objects are returned in a list.</p>
<div class="highlight"><pre><span></span><code><span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;fun&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Fun&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1099511627776</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#951a63&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;n543ajq2&#39;</span><span class="p">},</span>

<span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;hobbies&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Hobbies&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">549755813888</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#0f8a1f&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;j4nspkg4&#39;</span><span class="p">},</span>

<span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;productivity&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Productivity&#39;</span><span class="p">,</span> <span class="s1">&#39;sortOrder&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;sortType&#39;</span><span class="p">:</span> <span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#493293&#39;</span><span class="p">,</span> <span class="s1">&#39;etag&#39;</span><span class="p">:</span> <span class="s1">&#39;34qz9bzq&#39;</span><span class="p">}]</span>
</code></pre></div>
<p><strong>Before</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104670498-cd070200-5690-11eb-9fdd-0287fa6c7e7b.png" /></p>
<p><strong>After</strong></p>
<p><img alt="image" src="https://user-images.githubusercontent.com/56806733/104670531-dc864b00-5690-11eb-844a-899031335922.png" /></p>
</details>
</div>
</div>
</div>

        <details class="quote">
          <summary>Source code in <code>managers/tags.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@logged_in</span>
<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic update method. Supports single and batch tag update.</span>

<span class="sd">    !!! important</span>
<span class="sd">        Updating tag properties like `parent` and renaming tags must be completed through</span>
<span class="sd">        their respective class methods to work: [nesting][managers.tags.TagsManager.nesting]</span>
<span class="sd">        and [renaming][managers.tags.TagsManager.rename]. These updates use different</span>
<span class="sd">        endpoints to the traditional updating.</span>

<span class="sd">    !!! important</span>
<span class="sd">        You are able to batch update sorting and color of tag objects through this method. If you only</span>
<span class="sd">        need to update single tags, it is recommended you use the class methods: [sorting][managers.tags.TagsManager.sorting]</span>
<span class="sd">        and [color][managers.tags.TagsManager.color]</span>

<span class="sd">    !!! info</span>
<span class="sd">        More information on Tag Object properties [here](tags.md#example-ticktick-tag-dictionary)</span>

<span class="sd">    Arguments:</span>
<span class="sd">        obj (dict or list):</span>
<span class="sd">            **Single Tag (dict)**: The tag dictionary object to update.</span>

<span class="sd">            **Multiple Tags (list)**: The tag dictionaries to update in a list.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict or list:</span>
<span class="sd">        **Single Tag (dict)**: The updated tag dictionary object.</span>

<span class="sd">        **Multiple Tags (list)**: The updated tag dictionaries in a list.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If `obj` is not a dict or list.</span>
<span class="sd">        RuntimeError: If the updating was unsuccessful.</span>

<span class="sd">    !!! example &quot;Updating Tags&quot;</span>
<span class="sd">        === &quot;Single Tag Update&quot;</span>
<span class="sd">            Change a field directly in the task object then pass it to the method. See above</span>
<span class="sd">            for more information about what can actually be successfully changed through this method.</span>

<span class="sd">            ```python</span>
<span class="sd">            # Lets say we have a tag named &quot;Fun&quot; that we want to change the color of.</span>
<span class="sd">            # We can change the color by updating the field directly.</span>
<span class="sd">            fun_tag = client.get_by_fields(label=&#39;Fun&#39;, search=&#39;tags&#39;)  # Get the tag object</span>
<span class="sd">            new_color = &#39;#d00000&#39;</span>
<span class="sd">            fun_tag[&#39;color&#39;] = new_color  # Change the color</span>
<span class="sd">            updated_fun_tag = client.tag.update(fun_tag)  # Pass the object to update.</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The updated tag dictionary object is returned.</span>

<span class="sd">                ```python</span>
<span class="sd">                {&#39;name&#39;: &#39;fun&#39;, &#39;label&#39;: &#39;Fun&#39;, &#39;sortOrder&#39;: 2199023255552, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#d00000&#39;, &#39;etag&#39;: &#39;i85c8ijo&#39;}</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104669635-4aca0e00-568f-11eb-8bc6-9572a432b623.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104669824-ac8a7800-568f-11eb-93d6-ac40235bcd3f.png)</span>

<span class="sd">        === &quot;Multiple Tag Update&quot;</span>
<span class="sd">            Changing the fields is the same as with updating a single tag, except you will need</span>
<span class="sd">            to pass the objects in a list to the method.</span>

<span class="sd">            ```python</span>
<span class="sd">            # Lets update the colors for three tags: &quot;Fun&quot;, &quot;Hobbies&quot;, and &quot;Productivity&quot;</span>
<span class="sd">            fun_tag = client.get_by_fields(label=&quot;Fun&quot;, search=&#39;tags&#39;)</span>
<span class="sd">            hobbies_tag = client.get_by_fields(label=&quot;Hobbies&quot;, search=&#39;tags&#39;)</span>
<span class="sd">            productivity_tag = client.get_by_fields(label=&quot;Productivity&quot;, search=&#39;tags&#39;)</span>
<span class="sd">            fun_color_new = &quot;#951a63&quot;</span>
<span class="sd">            hobbies_color_new = &quot;#0f8a1f&quot;</span>
<span class="sd">            productivity_color_new = &quot;#493293&quot;</span>
<span class="sd">            # Change the fields directly</span>
<span class="sd">            fun_tag[&#39;color&#39;] = fun_color_new</span>
<span class="sd">            hobbies_tag[&#39;color&#39;] = hobbies_color_new</span>
<span class="sd">            productivity_tag[&#39;color&#39;] = productivity_color_new</span>
<span class="sd">            # The objects must be passed in a list</span>
<span class="sd">            update_tag_list = [fun_tag, hobbies_tag, productivity_tag]</span>
<span class="sd">            updated_tags = client.tag.update(update_tag_list)</span>
<span class="sd">            ```</span>

<span class="sd">            ??? success &quot;Result&quot;</span>
<span class="sd">                The updated task dictionary objects are returned in a list.</span>

<span class="sd">                ```python</span>
<span class="sd">                [{&#39;name&#39;: &#39;fun&#39;, &#39;label&#39;: &#39;Fun&#39;, &#39;sortOrder&#39;: -1099511627776, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#951a63&#39;, &#39;etag&#39;: &#39;n543ajq2&#39;},</span>

<span class="sd">                {&#39;name&#39;: &#39;hobbies&#39;, &#39;label&#39;: &#39;Hobbies&#39;, &#39;sortOrder&#39;: -549755813888, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#0f8a1f&#39;, &#39;etag&#39;: &#39;j4nspkg4&#39;},</span>

<span class="sd">                {&#39;name&#39;: &#39;productivity&#39;, &#39;label&#39;: &#39;Productivity&#39;, &#39;sortOrder&#39;: 0, &#39;sortType&#39;: &#39;project&#39;, &#39;color&#39;: &#39;#493293&#39;, &#39;etag&#39;: &#39;34qz9bzq&#39;}]</span>
<span class="sd">                ```</span>

<span class="sd">                **Before**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104670498-cd070200-5690-11eb-9fdd-0287fa6c7e7b.png)</span>

<span class="sd">                **After**</span>

<span class="sd">                ![image](https://user-images.githubusercontent.com/56806733/104670531-dc864b00-5690-11eb-844a-899031335922.png)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">batch</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Bool signifying batch create or not</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="c1"># Batch tag creation triggered</span>
        <span class="n">obj_list</span> <span class="o">=</span> <span class="n">obj</span>  <span class="c1"># Assuming all correct objects</span>
        <span class="n">batch</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Required Positional Argument Must Be A Dict or List of Tag Objects&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">batch</span><span class="p">:</span>
        <span class="n">obj_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">obj</span><span class="p">]</span>

    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">BASE_URL</span> <span class="o">+</span> <span class="s1">&#39;batch/tag&#39;</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;update&#39;</span><span class="p">:</span> <span class="n">obj_list</span><span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">http_post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">cookies</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cookies</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">batch</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_etag</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">parse_etag</span><span class="p">(</span><span class="n">response</span><span class="p">),</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">etag</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;id2etag&#39;</span><span class="p">]</span>
        <span class="n">etag2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">etag</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>  <span class="c1"># Tag names are out of order</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj_list</span><span class="p">]</span>  <span class="c1"># Tag names are in order</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">obj_list</span><span class="p">)</span>  <span class="c1"># Create enough spots for the objects</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">etag2</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">labels</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>  <span class="c1"># Object of the index is here</span>
            <span class="n">actual_etag</span> <span class="o">=</span> <span class="n">etag</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span>  <span class="c1"># Get the actual etag</span>
            <span class="n">found</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">get_by_etag</span><span class="p">(</span><span class="n">actual_etag</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="s1">&#39;tags&#39;</span><span class="p">)</span>
            <span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">found</span>  <span class="c1"># Place at the correct index</span>
        <span class="k">return</span> <span class="n">items</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../projects/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Projects
            </div>
          </div>
        </a>
      
      
        <a href="../helpers/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Helpers
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "toc.integrate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.9b151c6a.min.js"></script>
      
    
  </body>
</html>